!!! Unlocking a piece of equipment can trigger a chain reaction,
    achieving a special effect with another piece of equipment.

Multi-element attribute synergy:
 e.g., Water + Lightning = AOE, linking enemies within the electric shock range.

弹道流 已经有雏形（Pierce / Ricochet / Shrapnel）。
炮台流 有 Auto / Stationary。
护盾流 刚做了 Carapace + Bone Plating + Shield AOE。
经济流 有 Coin / Coupon / Reroll 基础

状态流 有 Buff / Debuff / Status 基础 
   Leave a trace wherever you go on map, then apply a status effect to enemies in the area.
   Status effect will be removed when you leave the area for a while.
   Status effect will be removed when you die/restart/clear the level.


仆从流 有 Pet / Minion / Summoner 基础 
   Summon a Summoner that follows you and attacks enemies. When the Summoner dies, 
   it will be replaced by a new one. Summoner will level up with you.
   Summoner will have a unique ability that is different from your own.
   Summoner will have a unique passive ability that is different from your own.

赌狗流 有 Lucky / Risk / Chance 基础



经济流 & 控场流做成通用支线，可以跟任何主流派混搭。

状态流 / 仆从流 / 赌狗流 等核心够稳的时候，再慢慢加进。

Boss: Anti-U
================================RARITY=====================================
Rarity tiers & behavior

Let’s use numeric rarity for easy tuning:
1 – Common: Very frequent in shop, almost never as boss rewards.
2 – Uncommon: Medium frequency.
3 – Rare: Low frequency early, gets more common in later levels.
4 – Epic: Very low chance in shop; most often from bosses.

Rule you wanted:
The higher the rarity, the lower the probability of appearing in the shop (but the refresh chance increases as levels increase).

So for the shop we’ll:
Give lower base weight to higher rarity.
Give higher growth per level to higher rarity.
================================PROPS======================================
'1. Core Offense Props'

;1.1. Piercing Rounds  √ ======================================================================='
Effect: Bullets can pass through N enemies, each hit deals full or slightly reduced damage.
Synergy:
Strong with range (bullets travel farther, hit more).
Strong with firerate (more bullets → more multi-hits).
Good vs swarms, slightly weaker vs single bosses.

;1.2. Ricochet Scope   √  =========================================================================='
Effect: When a bullet hits an enemy or wall, it can bounce once toward the nearest enemy if exists.
Synergy:
Works nicely with your obstacles (walls turn into combo tools).
Great with crit (ricochets can crit too).
Encourages fighting near obstacles instead of open fields.

1.3. Bleeding Edge
Effect: Your hits apply a “Bleed” that deals X% of damage over 3s, stacking up to Y times.
Synergy:
High firerate builds become DoT machines.
Good vs high-HP bosses (persistent damage even while kiting).
Can interact with other props: e.g., “Hemorrhage” that increases damage to bleeding targets.

;1.4. Shrapnel Shells √  =========================================================================='
Effect: On enemy death, 25/35/45% to spawn 3–4 small projectiles in random directions.
Synergy:
Insane in big waves (chain-kill feeling).
More effective with crit (shrapnel can crit).
You can add a prop later that upgrades shrapnel size or count.

1.5. Mark of Vulnerability
Effect: Every X seconds, randomly “mark” an enemy, marked enemies take +20% damage from all sources.
Synergy:
Good vs elite / boss enemies.
Pairs well with range and pierce so you can focus the marked target while hitting others.

'2. Defense & Survival Props'

Not just raw HP—give them interesting defensive patterns.
;2.1. Bone Plating rarity: 2  √  ==========================================================================
Effect: Every 6 seconds, gain 2hp plating. Stacks are unlimited (reset each level). Purchase limit 5, once capped, any time you have plating it negates the next hit entirely (consuming one stack even if the damage exceeds the plating).
Synergy:
Strong for beginners / melee risk-takers.
Combos with high speed playstyles (you can dash in to grab coins safely).

2.2. Guardian Charm
Effect: When your HP drops below 30%, gain a temporary shield and +X% speed for 3 seconds. Long cooldown.
Synergy:
Helps “glass cannon” builds survive mistakes.
Synergizes with speed / positioning to escape on low HP.

2.3. Blood Pact
Effect: +X% damage, but max HP reduced by Y%.
Synergy:
Obvious synergy with max HP props and heal mechanics.
Encourages high skill players to take risks.

2.4. Retaliation Thorns
Effect: Enemies that hit you by contact damage take a flat damage or % of their max HP.
Synergy:
Works well with Bone Plating (you can “intentionally” take occasional hits).
Encourages tanky, lower-mobility builds.

;2.5. Aegis Pulse  √  ==========================================================================
    Trigger condition
Only active while the player has any shield HP:
player.shield_hp > 0 (biome/domain shields, future shield props)
OR carapace_shield_hp > 0 (your Carapace one-time shield)

Effect:
Every X seconds, while shield is present, emit a hexagonal force field centered on the player:
Shape: visually rendered as a hexagon; collision can be:
either a circle in code, and you just draw a hex outline, or
All enemies whose hitbox intersects the field take damage.

;2.6. Carapace  √  ==========================================================================
Effect: Add a one time shield for player

2.7. Shield Capacitor

Rarity: 3
Effect:
When you pick up a heal while at full HP, the heal instead grants temporary shield HP.
At higher levels, overheal conversion % goes up, or you can store more “capacitor charge.”

Combos:
Carapace + Shield Capacitor → Heals become extra layers on top of your base shield, making Carapace scale really hard later.
Bone Plating + Shield Capacitor → Constant trickle of plating plus overheal > you become a walking shield sandwich.

2.8. Mirror Shell

Rarity: 3
Effect:
While you have shield HP, a percentage of 'RANGED damage' you take is reflected back to the attacker.
At higher levels, reflect % and/or bounce range increases.
Combos:
Mirror Shell + Aegis Pulse
→ You already want to stay close-ish to enemies for the pulse; reflected shots punish ranged hordes simultaneously.
Mirror Shell + Bone Plating
→ The more hits you can “eat” with temporary armor, the more reflected damage you dish out.

2.9. Shardstorm

Rarity: 3–4
Effect:
When your shield breaks, it explodes into shards that fly outward like bullets (number of shards & damage scale with level).

Combos:
Carapace + Bone Plating + Shardstorm
→ Your layers of shield now become ammo when they finally break, turning mistakes into mini-nukes.
Shardstorm + Piercing Rounds / Ricochet Scope / Shrapnel Shells
→ Shards inherit bullet modifiers: piercing, bouncing, or spawning shrapnel on kill. Shield path suddenly becomes part of the bullet engine.

2.10. 

'3. Economy & Bandit Interaction Props'

These are great for your Bandit mechanic and the shop fantasy.

;3.1. Lockbox
Effect: A percentage of your coins becomes “protected” and cannot be stolen by bandits.
Synergy:
Great early if bandits are frequent.
Can open up “greedy” builds where you hoard coins instead of spending immediately.

;3.2. Wanted Poster
Effect: Consumable: next 2 levels, the first Bandit kill pays a bounty.
Synergy:
Converts the “punishment” enemy into a high-reward target.
Combos with high speed (easier to chase them down) and burst damage.

;3.3. Coin Magnet !!!!! √  ==========================================================================
Effect: Increases coin pickup radius. Each level increase 60 px.
Synergy:
Super good with high movement speed, kiting builds.
Makes dangerous coin chasing much safer, good for wave-end cleanup.

;3.4. Golden Interest
Effect: At the start of each level, gain +X% of your unspent coins as bonus.
Synergy:
Encourages the player to save coins and forgo instant power.
Works nicely with Lockbox (protect your savings from bandits).

;3.5. Bandit Radar
Effect: When a bandit spawns, highlight them and slow them slightly for a short duration.
Synergy:
Combined with Wanted Poster → “Bandit hunter” build.
Fits your current collision volume and aura design (you can show a glowing outline).
  
;3.6. Coupon  √  ==========================================================================
Effect： Permanent decrease the price in shop by 5%

;3.7. Shady Loan
rarity: 3, cost: 5, max level: 3
Effect: Take a risky loan: get +80/+120/+160 coins instantly, owe at least that much, and repay over 3/4/5 waves (25/30/35% of current coins, cap 50/80/110) after Golden Interest. Multiple loans stack debt and use the highest timer; the final wave attempts to clear all remaining debt at once, otherwise you lose 30/35/40% max HP.

3.8. Black Market pass
Consumable, Rarity: 3, Base Price: $30
Effect： You’ve got connections in the underworld.
  the next shop becomes a bit of a black market with better econ deals.
  Shop prices +20%, with more rare items available.(all item >= rarity 3)

'4. Utility / Control Props'
These change the way the player moves or controls space.

4.1. Time Dilation Boots
Effect: When you stop moving for ≥ 0.5s, enemies in a radius are slightly slowed.
Synergy:
Encourages a “turret” playstyle: stand and shoot.
Good with high firerate and range.
Interesting opposite to normal “run and gun” speed builds.

4.2. Phantom Dash (if you ever add dash / evade)
Effect: Dashing through enemies deals damage and briefly slows them.
Synergy:
Obvious with speed and any dash cooldown reduction.
Very fun for aggressive play around obstacles.

4.3. Sticky Tar Flask
Effect: Occasionally drops a slowing puddle where you stand for a second, enemies in it are slowed and take minor DoT.
Synergy:
Strong near obstacles, choke points.
Works with knockback / push effects if you add them later.
 
;4.4. Auto-Turret !!!!  √  ==========================================================================
Effect: Deploys a small turret that follows you and fires weak bullets at nearest enemy.
Synergy:
Scales with damage buffs if turret uses your damage.
Good with any prop that boosts “all sources” damage (e.g., Mark of Vulnerability).

;4.5 Stationary Turret    √  ==========================================================================
Similiar to Auto Turret, just can not move

'5. Crit, Element, and Synergy Props'

These give crit & status builds more identity, especially since you already have crit chance.

5.1. Razor Focus
Effect: +Crit chance, but -Fire rate.
Synergy:
Works on builds that already stacked firerate from level-ups.
High synergy with crit damage multiplier if you add that stat later.

5.2. Explosive Crits
Effect: Critical hits cause a small explosion around the target, dealing splash damage.
Synergy:
Ties together crit + crowd control.
Combos insanely with ricochet / pierce / shrapnel.

5.3. Frost Brand
Effect: Hits have a small chance to “chill” enemies, slowing them briefly. If you hit a chilled enemy again, extra damage.
Synergy:
Strong with high firerate (you can proc chill frequently).
Gives non-speed builds some safety through slows.

5.4. Shock Relay
Effect: Every N-th hit chains lightning to nearby enemy for bonus damage.
Synergy:
Rewards sustained fire (auto-fire weapons).
Great vs clustered waves, weaker vs single boss, so still somewhat balanced.

'6. “Set / Combo” Ideas'
